// Common utilities
// Configuration Constants
export const EPSILON = 0.000001;
export const RANDOM = Math.random;
export const degree2rad = Math.PI / 180;
// Tests whether or not the arguments have approximately the same value, within an absolute
// or relative tolerance of EPSILON (an absolute tolerance is used for values less
// than or equal to 1.0, and a relative tolerance is used for larger values)
export function equalsApproximately(a, b) {
    return Math.abs(a - b) <= EPSILON * Math.max(1.0, Math.abs(a), Math.abs(b));
}
const bytes = new ArrayBuffer(Float32Array.BYTES_PER_ELEMENT);
const floatView = new Float32Array(bytes);
const intView = new Uint32Array(bytes);
const threehalfs = 1.5;
// https://medium.com/hard-mode/the-legendary-fast-inverse-square-root-e51fee3b49d9
export function inverseSqrt(n) {
    const x2 = n * 0.5;
    floatView[0] = n;
    intView[0] = 0x5f3759df - (intView[0] >> 1);
    let y = floatView[0];
    y = y * (threehalfs - x2 * y * y);
    // y = y * (threehalfs - x2 * y * y)
    return y;
}
// Inverse q3 inverse sqrt
export function sqrt(n) {
    return 1 / inverseSqrt(n);
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29tbW9uLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vc3JjL2xpYi9jb21tb24udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsbUJBQW1CO0FBRW5CLDBCQUEwQjtBQUMxQixNQUFNLENBQUMsTUFBTSxPQUFPLEdBQUcsUUFBUSxDQUFBO0FBQy9CLE1BQU0sQ0FBQyxNQUFNLE1BQU0sR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFBO0FBRWpDLE1BQU0sQ0FBQyxNQUFNLFVBQVUsR0FBRyxJQUFJLENBQUMsRUFBRSxHQUFHLEdBQUcsQ0FBQTtBQUV2QywyRkFBMkY7QUFDM0Ysa0ZBQWtGO0FBQ2xGLDRFQUE0RTtBQUM1RSxNQUFNLFVBQVUsbUJBQW1CLENBQUMsQ0FBUyxFQUFFLENBQVM7SUFDdEQsT0FBTyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsSUFBSSxPQUFPLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxHQUFHLEVBQUUsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUE7QUFDN0UsQ0FBQztBQUVELE1BQU0sS0FBSyxHQUFHLElBQUksV0FBVyxDQUFDLFlBQVksQ0FBQyxpQkFBaUIsQ0FBQyxDQUFBO0FBQzdELE1BQU0sU0FBUyxHQUFHLElBQUksWUFBWSxDQUFDLEtBQUssQ0FBQyxDQUFBO0FBQ3pDLE1BQU0sT0FBTyxHQUFHLElBQUksV0FBVyxDQUFDLEtBQUssQ0FBQyxDQUFBO0FBQ3RDLE1BQU0sVUFBVSxHQUFHLEdBQUcsQ0FBQTtBQUV0QixtRkFBbUY7QUFDbkYsTUFBTSxVQUFVLFdBQVcsQ0FBQyxDQUFTO0lBQ25DLE1BQU0sRUFBRSxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUE7SUFDbEIsU0FBUyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQTtJQUNoQixPQUFPLENBQUMsQ0FBQyxDQUFDLEdBQUcsVUFBVSxHQUFHLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFBO0lBQzNDLElBQUksQ0FBQyxHQUFHLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQTtJQUNwQixDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsVUFBVSxHQUFHLEVBQUUsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUE7SUFDakMsb0NBQW9DO0lBQ3BDLE9BQU8sQ0FBQyxDQUFBO0FBQ1YsQ0FBQztBQUVELDBCQUEwQjtBQUMxQixNQUFNLFVBQVUsSUFBSSxDQUFDLENBQVM7SUFDNUIsT0FBTyxDQUFDLEdBQUcsV0FBVyxDQUFDLENBQUMsQ0FBQyxDQUFBO0FBQzNCLENBQUMifQ==